// Generated by OABuilder
package com.corptostore.model.oa.search;

import java.util.logging.Logger;

import com.corptostore.model.oa.TransmitBatch;
import com.corptostore.model.oa.search.TransmitBatchSearch;
import com.viaoa.annotation.OAClass;
import com.viaoa.datasource.OASelect;
import com.viaoa.filter.OAAndFilter;
import com.viaoa.filter.OAQueryFilter;
import com.viaoa.object.OAObject;
import com.viaoa.util.OAArray;
import com.viaoa.util.OADate;
import com.viaoa.util.OADateTime;
import com.viaoa.util.OAFilter;
import com.viaoa.util.OAString;

@OAClass(useDataSource = false, localOnly = true)
public class TransmitBatchSearch extends OAObject {
	private static final long serialVersionUID = 1L;

	private static Logger LOG = Logger.getLogger(TransmitBatchSearch.class.getName());

	public static final String P_TransmitBatchDate = "TransmitBatchDate";
	public static final String P_Lock = "Lock";
	public static final String P_DataPullCompleted = "DataPullCompleted";
	public static final String P_MaxResults = "MaxResults";

	protected OADate transmitBatchDate;
	protected OADateTime lock;
	protected OADateTime dataPullCompleted;
	protected int maxResults;

	public OADate getTransmitBatchDate() {
		return transmitBatchDate;
	}

	public void setTransmitBatchDate(OADate newValue) {
		OADate old = transmitBatchDate;
		fireBeforePropertyChange(P_TransmitBatchDate, old, newValue);
		this.transmitBatchDate = newValue;
		firePropertyChange(P_TransmitBatchDate, old, this.transmitBatchDate);
	}

	public OADateTime getLock() {
		return lock;
	}

	public void setLock(OADateTime newValue) {
		OADateTime old = lock;
		fireBeforePropertyChange(P_Lock, old, newValue);
		this.lock = newValue;
		firePropertyChange(P_Lock, old, this.lock);
	}

	public OADateTime getDataPullCompleted() {
		return dataPullCompleted;
	}

	public void setDataPullCompleted(OADateTime newValue) {
		OADateTime old = dataPullCompleted;
		fireBeforePropertyChange(P_DataPullCompleted, old, newValue);
		this.dataPullCompleted = newValue;
		firePropertyChange(P_DataPullCompleted, old, this.dataPullCompleted);
	}

	public int getMaxResults() {
		return maxResults;
	}

	public void setMaxResults(int newValue) {
		fireBeforePropertyChange(P_MaxResults, this.maxResults, newValue);
		int old = maxResults;
		this.maxResults = newValue;
		firePropertyChange(P_MaxResults, old, this.maxResults);
	}

	public void reset() {
		setTransmitBatchDate(null);
		setLock(null);
		setDataPullCompleted(null);
	}

	public boolean isDataEntered() {
		if (getTransmitBatchDate() != null) {
			return true;
		}
		if (getLock() != null) {
			return true;
		}
		if (getDataPullCompleted() != null) {
			return true;
		}
		return false;
	}

	protected String extraWhere;
	protected Object[] extraWhereParams;
	protected OAFilter<TransmitBatch> filterExtraWhere;

	public void setExtraWhere(String s, Object... args) {
		this.extraWhere = s;
		this.extraWhereParams = args;
		if (OAString.isNotEmpty(s) && getExtraWhereFilter() == null) {
			OAFilter<TransmitBatch> f = new OAQueryFilter<TransmitBatch>(TransmitBatch.class, s, args);
			setExtraWhereFilter(f);
		}
	}

	public void setExtraWhereFilter(OAFilter<TransmitBatch> filter) {
		this.filterExtraWhere = filter;
	}

	public OAFilter<TransmitBatch> getExtraWhereFilter() {
		return this.filterExtraWhere;
	}

	public OASelect<TransmitBatch> getSelect() {
		final String prefix = "";
		String sql = "";
		String sortOrder = null;
		Object[] args = new Object[0];
		if (transmitBatchDate != null) {
			if (sql.length() > 0) {
				sql += " AND ";
			}
			sql += TransmitBatch.P_TransmitBatchDate + " = ?";
			args = OAArray.add(Object.class, args, this.transmitBatchDate);
		}
		if (lock != null) {
			if (sql.length() > 0) {
				sql += " AND ";
			}
			sql += TransmitBatch.P_Lock + " = ?";
			args = OAArray.add(Object.class, args, this.lock);
		}
		if (dataPullCompleted != null) {
			if (sql.length() > 0) {
				sql += " AND ";
			}
			sql += TransmitBatch.P_DataPullCompleted + " = ?";
			args = OAArray.add(Object.class, args, this.dataPullCompleted);
		}

		if (OAString.isNotEmpty(extraWhere)) {
			if (sql.length() > 0) {
				sql = "(" + sql + ") AND ";
			}
			sql += extraWhere;
			args = OAArray.add(Object.class, args, extraWhereParams);
		}

		OASelect<TransmitBatch> select = new OASelect<TransmitBatch>(TransmitBatch.class, sql, args, sortOrder);
		if (getExtraWhereFilter() != null && getExtraWhereFilter().updateSelect(select)) {
			select.setFilter(new OAAndFilter(this.getCustomFilter(), getExtraWhereFilter()));
		} else {
			select.setFilter(this.getCustomFilter());
		}
		select.setDataSourceFilter(this.getDataSourceFilter());
		if (getMaxResults() > 0) {
			select.setMax(getMaxResults());
		}
		return select;
	}

	public void appendSelect(final String fromName, final OASelect select) {
		final String prefix = fromName + ".";
		String sql = "";
		Object[] args = new Object[0];
		if (transmitBatchDate != null) {
			if (sql.length() > 0) {
				sql += " AND ";
			}
			sql += prefix + TransmitBatch.P_TransmitBatchDate + " = ?";
			args = OAArray.add(Object.class, args, this.transmitBatchDate);
		}
		if (lock != null) {
			if (sql.length() > 0) {
				sql += " AND ";
			}
			sql += prefix + TransmitBatch.P_Lock + " = ?";
			args = OAArray.add(Object.class, args, this.lock);
		}
		if (dataPullCompleted != null) {
			if (sql.length() > 0) {
				sql += " AND ";
			}
			sql += prefix + TransmitBatch.P_DataPullCompleted + " = ?";
			args = OAArray.add(Object.class, args, this.dataPullCompleted);
		}
		select.add(sql, args);
	}

	private OAFilter<TransmitBatch> filterDataSourceFilter;

	public OAFilter<TransmitBatch> getDataSourceFilter() {
		if (filterDataSourceFilter != null) {
			return filterDataSourceFilter;
		}
		filterDataSourceFilter = new OAFilter<TransmitBatch>() {
			@Override
			public boolean isUsed(TransmitBatch transmitBatch) {
				return TransmitBatchSearch.this.isUsedForDataSourceFilter(transmitBatch);
			}
		};
		return filterDataSourceFilter;
	}

	private OAFilter<TransmitBatch> filterCustomFilter;

	public OAFilter<TransmitBatch> getCustomFilter() {
		if (filterCustomFilter != null) {
			return filterCustomFilter;
		}
		filterCustomFilter = new OAFilter<TransmitBatch>() {
			@Override
			public boolean isUsed(TransmitBatch transmitBatch) {
				boolean b = TransmitBatchSearch.this.isUsedForCustomFilter(transmitBatch);
				return b;
			}
		};
		return filterCustomFilter;
	}

	public boolean isUsedForDataSourceFilter(TransmitBatch searchTransmitBatch) {
		return true;
	}

	public boolean isUsedForCustomFilter(TransmitBatch searchTransmitBatch) {
		return true;
	}
}
